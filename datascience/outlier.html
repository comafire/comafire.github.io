
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Outlier &#8212; 데사견문록</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Normality Test (Scipy)" href="scipy_normality_test.html" />
    <link rel="prev" title="Model" href="model.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">데사견문록</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../readme.html">
   데이터사이언스견문록
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="readme.html">
   데이터사이언스
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="e2eds.html">
     End to End Data Science (E2EDS)
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="dataprep.html">
     Data Preperation
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="spark_dataframe_10mins.html">
       Spark DataFrame 10mins
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="pandas_10mins.html">
       Pandas 10mins
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="numpy_10mins.html">
       Numpy 10mins
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="random_seed.html">
       Random
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="pandas_data_description.html">
       Data Description
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="missing_value.html">
       Missing Value
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="pandas_descriptive_statistics.html">
       Descriptive Statistcs
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 current active collapsible-parent">
    <a class="reference internal" href="model.html">
     Model
    </a>
    <ul class="current collapse-ul">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Outlier
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scipy_normality_test.html">
       Normality Test (Scipy)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="scipy_statistics_test.html">
       Statistics Test (Scipy)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="parallel_algorithm.html">
       One-Pass/Parallel Algorithm
      </a>
     </li>
     <li class="toctree-l3 collapsible-parent">
      <a class="reference internal" href="sklearn/sklearn.html">
       Scikit-Learn
      </a>
      <ul class="collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_feature_selection.html">
         Feature Selection
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_feature_extraction.html">
         Feature Extraction
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_feature_transformation.html">
         Feature Transformation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_split_train_test.html">
         Train/Valid/Test Dataset
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/imblearn_imbalanced_class.html">
         Imbalanced Class
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_model_persistence.html">
         Model Persistence
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_eval_regression.html">
         Regression Evaluation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_linear_regression.html">
         Linear Regression
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_polynomial_regression.html">
         Polynomial Regression
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_sgd_regression.html">
         SGD Regression
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_svm_regression.html">
         SVM Regression
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_nearest_neighbor_regression.html">
         Nearest Neighbors Regression
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_ensemble_regression.html">
         Ensemble Regression
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_eval_classification.html">
         Classification Evaluation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_logistic_regression.html">
         Logistic Regression
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_sgd_classification.html">
         SGD Classification
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_svm_classification.html">
         SVM Classification
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_nearest_neighbor_classification.html">
         Nearest Neighbors Classification
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_ensemble_classification.html">
         Ensemble Classification
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_eval_clustering.html">
         Clustering Evaluation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_kmeans.html">
         K-Means
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_mean_shift.html">
         Mean Shift
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_spectral_clustering.html">
         Spectral Clustering
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_hyper_parameter_tunning.html">
         Hyper Parameter Tunning
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="sklearn/sklearn_anomaly_detection.html">
         Anomaly Detection
        </a>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="surprise_collaborative_filtering.html">
       Collaborative Filtering (Surprise)
      </a>
     </li>
     <li class="toctree-l3 collapsible-parent">
      <a class="reference internal" href="keras/keras.html">
       Keras
      </a>
      <ul class="collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="keras/keras_10mins.html">
         Keras 10mins
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="keras/keras_dnn_regression.html">
         DNN Regression
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="keras/keras_dnn_classification.html">
         DNN Classification
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="keras/keras_deepmf.html">
         Deep MF
        </a>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3 collapsible-parent">
      <a class="reference internal" href="tf2/tf2.html">
       Tensorflow2
      </a>
      <ul class="collapse-ul">
       <li class="toctree-l4">
        <a class="reference internal" href="tf2/tf2_10mins.html">
         Tensorflow2 10mins
        </a>
       </li>
       <li class="toctree-l4 collapsible-parent">
        <a class="reference internal" href="tf2/tf2_beginner.html">
         Beginner
        </a>
        <ul class="collapse-ul">
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_quickstart.html">
           Quickstart
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_image_classification.html">
           Image Classification
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_text_classification.html">
           Text Classification
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_hub_text_classification.html">
           Text Classification with Hub
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_regression.html">
           Regression
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_overfit_underfit.html">
           Overfit &amp; Underfit
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_save_load.html">
           Save &amp; Load
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_keras_tuner.html">
           Keras Tuner
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_images.html">
           Images
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_csv.html">
           CSV
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_numpy.html">
           Numpy
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_pandas.html">
           Pandas
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_text.html">
           Text
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_unicode.html">
           Unicode
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_tftext.html">
           TF.Text
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_subwords_tokenizer.html">
           Subword Tokenization
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_tfrecord.html">
           TFRecord and tf.train.Example
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_beginner_tfio.html">
           TF I/O
          </a>
         </li>
        </ul>
        <i class="fas fa-chevron-down">
        </i>
       </li>
       <li class="toctree-l4 collapsible-parent">
        <a class="reference internal" href="tf2/tf2_advanced.html">
         Advanced
        </a>
        <ul class="collapse-ul">
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_advanced_quickstart.html">
           Quickstart
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_advanced_image_cnn.html">
           Image CNN
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_advanced_image_classification.html">
           Image Classification
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_advanced_transfer_learning.html">
           Transfer learning and fine-tuning
          </a>
         </li>
         <li class="toctree-l5">
          <a class="reference internal" href="tf2/tf2_advanced_transfer_learning_with_hub.html">
           Transfer learning with TensorFlow Hub
          </a>
         </li>
        </ul>
        <i class="fas fa-chevron-down">
        </i>
       </li>
      </ul>
      <i class="fas fa-chevron-down">
      </i>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="pytorch/pytorch.html">
       Pytorch
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="deploy.html">
     Deployment
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="streamlit.html">
       Streamlit
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="flask.html">
       Flask
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../dataplatform/readme.html">
   데이터플랫폼
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/infra_beginner.html">
     Infrastructure - Bignner
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/infra_advanced.html">
     Infrastructure - Advanced
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/jupyter_cloud.html">
     Jupyter (Cloud)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/jupyter_native_ubuntu.html">
     Jupyter (Ubuntu)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/jupyter_native_macos.html">
     Jupyter (macOS)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/jupyter_docker.html">
     Jupyter (Docker)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/vagrant_virtualbox.html">
     Vagrant (Optional)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/skp.html">
     St. Kilda Pier (SKP)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dataplatform/gce-nested-vm.html">
     Google Computer Engine
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/datascience/outlier.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/comafire/comafire.github.io"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/comafire/comafire.github.io/issues/new?title=Issue%20on%20page%20%2Fdatascience/outlier.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/comafire/comafire.github.io/master?urlpath=tree/datascience/outlier.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#z-score-or-standard-score">
   Z-Score (or Standard Score)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#z-score">
     Z-Score
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mean-standard-deviation">
     Mean &amp; Standard Deviation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modified-z-score">
     Modified Z-Score
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tukey-outlier">
   Tukey Outlier
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="outlier">
<h1>Outlier<a class="headerlink" href="#outlier" title="Permalink to this headline">¶</a></h1>
<p>이상치</p>
<p>통계적 의미에서 이상치는 데이터의 분포에서 상당히 벗어난 값을 의미 합니다. 이 값은 비정상 적인 값일 수도 있지만, 새로운 관측치일 수도 있습니다. 이 부분에 대한 판단은 자신이 분석하고 있는 데이터의 도메인 특성에 상당히 종속됩니다.</p>
<p>따라서, 이상치는 데이터를 모델링 하는데 있어 주로 하는 가정이 해당 데이터는 특정 분포를 따른다는 가정이기 때문에, 이상치를 포함한 데이터를 통한 모델링은 이상치에 강건한 모델링 방법이 아니라면 안좋은 영향을 주게 될수도 있지만, 다른 도메인에서 이상치는 가정한 정상 분포를 벗어나는 새로운 데이터이기 때문에 제거해야 할 대상이 아닌 탐지해야 할 대상이 될 수 도 있습니다.</p>
<p>자신이 풀고자하는 문제 정의에 맞게 데이터에서 이상치를 제거하고 결측치로 생각하여 삭제 할지, 다른 값으로 채워 넣을지, 아니면 탐지하여 알람을 보낼지 선택하면 됩니다.</p>
<p>이상치를 탐지하는 방법은 크게 이상치가 단변량(Univariate)이냐, 다변량(Multivariate)이냐에 따라 방법이 달라지게 됩니다.</p>
<ul class="simple">
<li><p>단변량 이상탐지는 값들이 1차원 상에 분포하기 때문에 주로 분포를 가정한 통계적 방법이 사용됩니다.</p>
<ul>
<li><p>Z-score</p></li>
<li><p>Tukey Outlier</p></li>
</ul>
</li>
<li><p>다변량 이상탐지는 2차원 이상에 분포하기 때문에 주로 벡터 거리 기반 또는 트리 방법을 통한 클러스터링 방법이 주로 사용됩니다.</p>
<ul>
<li><p>DBScan Clustering</p></li>
<li><p>Isolation Forest</p></li>
<li><p>Robust Random Cut Forest</p></li>
</ul>
</li>
</ul>
<p>여기서는 통계적 방법에 의해 이상치를 제거하는 단변량 방법에 대해서 살펴보도록 하겠습니다. 다변량에 대한 이상탐지는 Data Science - Machine Learning의 Model 파트에서 다루도록 하겠습니다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_boston</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">load_boston</span><span class="p">()</span>
<span class="n">np_xs</span> <span class="o">=</span> <span class="n">boston</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>
<span class="n">np_ys</span> <span class="o">=</span> <span class="n">boston</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span>
<span class="n">col_xs</span> <span class="o">=</span> <span class="n">boston</span><span class="p">[</span><span class="s1">&#39;feature_names&#39;</span><span class="p">]</span>
<span class="n">col_ys</span> <span class="o">=</span> <span class="s1">&#39;MEDV&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">boston</span><span class="p">[</span><span class="s1">&#39;DESCR&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">col_xs</span><span class="p">,</span> <span class="n">col_ys</span><span class="p">)</span>

<span class="n">df_xs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np_xs</span><span class="p">)</span>
<span class="n">df_xs</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">col_xs</span>
<span class="n">df_xs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>.. _boston_dataset:

Boston house prices dataset
---------------------------

**Data Set Characteristics:**  

    :Number of Instances: 506 

    :Number of Attributes: 13 numeric/categorical predictive. Median Value (attribute 14) is usually the target.

    :Attribute Information (in order):
        - CRIM     per capita crime rate by town
        - ZN       proportion of residential land zoned for lots over 25,000 sq.ft.
        - INDUS    proportion of non-retail business acres per town
        - CHAS     Charles River dummy variable (= 1 if tract bounds river; 0 otherwise)
        - NOX      nitric oxides concentration (parts per 10 million)
        - RM       average number of rooms per dwelling
        - AGE      proportion of owner-occupied units built prior to 1940
        - DIS      weighted distances to five Boston employment centres
        - RAD      index of accessibility to radial highways
        - TAX      full-value property-tax rate per $10,000
        - PTRATIO  pupil-teacher ratio by town
        - B        1000(Bk - 0.63)^2 where Bk is the proportion of blacks by town
        - LSTAT    % lower status of the population
        - MEDV     Median value of owner-occupied homes in $1000&#39;s

    :Missing Attribute Values: None

    :Creator: Harrison, D. and Rubinfeld, D.L.

This is a copy of UCI ML housing dataset.
https://archive.ics.uci.edu/ml/machine-learning-databases/housing/


This dataset was taken from the StatLib library which is maintained at Carnegie Mellon University.

The Boston house-price data of Harrison, D. and Rubinfeld, D.L. &#39;Hedonic
prices and the demand for clean air&#39;, J. Environ. Economics &amp; Management,
vol.5, 81-102, 1978.   Used in Belsley, Kuh &amp; Welsch, &#39;Regression diagnostics
...&#39;, Wiley, 1980.   N.B. Various transformations are used in the table on
pages 244-261 of the latter.

The Boston house-price data has been used in many machine learning papers that address regression
problems.   
     
.. topic:: References

   - Belsley, Kuh &amp; Welsch, &#39;Regression diagnostics: Identifying Influential Data and Sources of Collinearity&#39;, Wiley, 1980. 244-261.
   - Quinlan,R. (1993). Combining Instance-Based and Model-Based Learning. In Proceedings on the Tenth International Conference of Machine Learning, 236-243, University of Massachusetts, Amherst. Morgan Kaufmann.

[&#39;CRIM&#39; &#39;ZN&#39; &#39;INDUS&#39; &#39;CHAS&#39; &#39;NOX&#39; &#39;RM&#39; &#39;AGE&#39; &#39;DIS&#39; &#39;RAD&#39; &#39;TAX&#39; &#39;PTRATIO&#39;
 &#39;B&#39; &#39;LSTAT&#39;] MEDV
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CRIM</th>
      <th>ZN</th>
      <th>INDUS</th>
      <th>CHAS</th>
      <th>NOX</th>
      <th>RM</th>
      <th>AGE</th>
      <th>DIS</th>
      <th>RAD</th>
      <th>TAX</th>
      <th>PTRATIO</th>
      <th>B</th>
      <th>LSTAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00632</td>
      <td>18.0</td>
      <td>2.31</td>
      <td>0.0</td>
      <td>0.538</td>
      <td>6.575</td>
      <td>65.2</td>
      <td>4.0900</td>
      <td>1.0</td>
      <td>296.0</td>
      <td>15.3</td>
      <td>396.90</td>
      <td>4.98</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.02731</td>
      <td>0.0</td>
      <td>7.07</td>
      <td>0.0</td>
      <td>0.469</td>
      <td>6.421</td>
      <td>78.9</td>
      <td>4.9671</td>
      <td>2.0</td>
      <td>242.0</td>
      <td>17.8</td>
      <td>396.90</td>
      <td>9.14</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.02729</td>
      <td>0.0</td>
      <td>7.07</td>
      <td>0.0</td>
      <td>0.469</td>
      <td>7.185</td>
      <td>61.1</td>
      <td>4.9671</td>
      <td>2.0</td>
      <td>242.0</td>
      <td>17.8</td>
      <td>392.83</td>
      <td>4.03</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.03237</td>
      <td>0.0</td>
      <td>2.18</td>
      <td>0.0</td>
      <td>0.458</td>
      <td>6.998</td>
      <td>45.8</td>
      <td>6.0622</td>
      <td>3.0</td>
      <td>222.0</td>
      <td>18.7</td>
      <td>394.63</td>
      <td>2.94</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.06905</td>
      <td>0.0</td>
      <td>2.18</td>
      <td>0.0</td>
      <td>0.458</td>
      <td>7.147</td>
      <td>54.2</td>
      <td>6.0622</td>
      <td>3.0</td>
      <td>222.0</td>
      <td>18.7</td>
      <td>396.90</td>
      <td>5.33</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="z-score-or-standard-score">
<h2>Z-Score (or Standard Score)<a class="headerlink" href="#z-score-or-standard-score" title="Permalink to this headline">¶</a></h2>
<p><img alt="Z-Score" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/The_Normal_Distribution.svg/1024px-The_Normal_Distribution.svg.png" /></p>
<p>Z-Score 는 평균과 표준 편차에 의해서 생성되는 분포에서 해당 데이터가 확률적으로 어느 위치에 속하는지를 알수 있게 되고, 이를 통해 이상치를 찾습니다. 보통은 -3 에서 3 값을 넘는 Z-score 를 이상치로 탐지합니다.</p>
<div class="section" id="z-score">
<h3>Z-Score<a class="headerlink" href="#z-score" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_x</span><span class="o">=</span> <span class="s2">&quot;CRIM&quot;</span>
<span class="n">col_z</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_Z&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col_x</span><span class="p">)</span>
<span class="n">col_outlier</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_Outlier&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col_x</span><span class="p">)</span>
<span class="n">df_x</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_xs</span><span class="p">[</span><span class="n">col_x</span><span class="p">])</span>
<span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mean=</span><span class="si">{}</span><span class="s2">, std=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">std</span><span class="p">))</span>

<span class="n">threshold</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">df_x</span><span class="p">[</span><span class="n">col_z</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_x</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">std</span>
<span class="n">df_x</span><span class="p">[</span><span class="n">col_outlier</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">df_x</span><span class="p">[</span><span class="n">col_z</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="n">threshold</span><span class="p">,</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="s1">&#39;outlier&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">col_outlier</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">col_x</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>mean=3.613523557312254, std=8.59304135129577
      CRIM    CRIM_Z CRIM_Outlier
0  0.00632 -0.419782       normal
1  0.02731 -0.417339       normal
2  0.02729 -0.417342       normal
3  0.03237 -0.416750       normal
4  0.06905 -0.412482       normal
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f3f1725d828&gt;
</pre></div>
</div>
<img alt="../_images/outlier_3_2.png" src="../_images/outlier_3_2.png" />
</div>
</div>
</div>
<div class="section" id="mean-standard-deviation">
<h3>Mean &amp; Standard Deviation<a class="headerlink" href="#mean-standard-deviation" title="Permalink to this headline">¶</a></h3>
<p>그래프를 보면 Z-Score 값은 Mean - 3 * Std ~ Mean + 3 * Std 와 같이 값의 범위로도 구할수 있습니다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_x</span><span class="o">=</span> <span class="s2">&quot;CRIM&quot;</span>
<span class="n">col_outlier</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_Outlier&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col_x</span><span class="p">)</span>
<span class="n">df_x</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_xs</span><span class="p">[</span><span class="n">col_x</span><span class="p">])</span>
<span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="n">threshold</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">upper</span> <span class="o">=</span> <span class="n">mean</span> <span class="o">+</span> <span class="n">std</span> <span class="o">*</span> <span class="n">threshold</span>
<span class="n">lower</span> <span class="o">=</span> <span class="n">mean</span> <span class="o">-</span> <span class="n">std</span> <span class="o">*</span> <span class="n">threshold</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mean=</span><span class="si">{}</span><span class="s2">, std=</span><span class="si">{}</span><span class="s2">, upper=</span><span class="si">{}</span><span class="s2">, lower=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">std</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span> <span class="n">lower</span><span class="p">))</span>

<span class="n">df_x</span><span class="p">[</span><span class="n">col_outlier</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df_x</span> <span class="o">&lt;</span> <span class="n">upper</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_x</span> <span class="o">&gt;</span> <span class="n">lower</span><span class="p">),</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="s1">&#39;outlier&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">col_outlier</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">col_x</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>mean=3.613523557312254, std=8.59304135129577, upper=29.392647611199564, lower=-22.16560049657506
      CRIM CRIM_Outlier
0  0.00632       normal
1  0.02731       normal
2  0.02729       normal
3  0.03237       normal
4  0.06905       normal
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f3f1393e588&gt;
</pre></div>
</div>
<img alt="../_images/outlier_5_2.png" src="../_images/outlier_5_2.png" />
</div>
</div>
</div>
<div class="section" id="modified-z-score">
<h3>Modified Z-Score<a class="headerlink" href="#modified-z-score" title="Permalink to this headline">¶</a></h3>
<p>평군과 표준편차를 이용하는 Z-Score 는 데이터의 크기가 12 이하로 작거나, 데이터의 Skew 가 큰경우 제대로 동작하지 않는 경우가 많습니다. 그래서 평균 대신 중앙값을 이용하는 Modified Z-score 가 주로 사용됩니다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_x</span><span class="o">=</span> <span class="s2">&quot;CRIM&quot;</span>
<span class="n">col_z</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_Z&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col_x</span><span class="p">)</span>
<span class="n">col_outlier</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_Outlier&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col_x</span><span class="p">)</span>
<span class="n">df_x</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_xs</span><span class="p">[</span><span class="n">col_x</span><span class="p">])</span>
<span class="n">median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">median_abs_std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">v</span> <span class="o">-</span> <span class="n">median</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">df_x</span><span class="o">.</span><span class="n">values</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;median=</span><span class="si">{}</span><span class="s2">, median_abs_std=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">median</span><span class="p">,</span> <span class="n">median_abs_std</span><span class="p">))</span>

<span class="n">threshold</span> <span class="o">=</span> <span class="mf">3.5</span>
<span class="n">df_x</span><span class="p">[</span><span class="n">col_z</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.6745</span> <span class="o">*</span> <span class="p">(</span><span class="n">df_x</span> <span class="o">-</span> <span class="n">median</span><span class="p">)</span> <span class="o">/</span> <span class="n">median_abs_std</span>
<span class="n">df_x</span><span class="p">[</span><span class="n">col_outlier</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">df_x</span><span class="p">[</span><span class="n">col_z</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="n">threshold</span><span class="p">,</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="s1">&#39;outlier&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">col_outlier</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">col_x</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>median=0.25651, median_abs_std=0.22145000000000004
      CRIM    CRIM_Z CRIM_Outlier
0  0.00632 -0.762037       normal
1  0.02731 -0.698105       normal
2  0.02729 -0.698166       normal
3  0.03237 -0.682693       normal
4  0.06905 -0.570972       normal
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f3f585947b8&gt;
</pre></div>
</div>
<img alt="../_images/outlier_7_2.png" src="../_images/outlier_7_2.png" />
</div>
</div>
</div>
</div>
<div class="section" id="tukey-outlier">
<h2>Tukey Outlier<a class="headerlink" href="#tukey-outlier" title="Permalink to this headline">¶</a></h2>
<p>Modified Z-score 방식과 같이 Skew 된 데이터에 대해서 강건하도록 Median 값을 이용하는 다른 이상치 탐지 방법입니다.</p>
<ul class="simple">
<li><p>IQR(interquartile range) = 3rd Quartile - 1st Quartile</p></li>
<li><p>Upper Bound = 3rd Quartile + (IQR * 1.5)</p></li>
<li><p>Lower Bound = 1st Quartile - (IQR * 1.5)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_x</span><span class="o">=</span> <span class="s2">&quot;CRIM&quot;</span>
<span class="n">col_outlier</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_Outlier&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col_x</span><span class="p">)</span>
<span class="n">df_x</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_xs</span><span class="p">[</span><span class="n">col_x</span><span class="p">])</span>
<span class="n">q1</span><span class="p">,</span> <span class="n">q3</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">df_x</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">75</span><span class="p">])</span>
<span class="n">iqr</span> <span class="o">=</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q1</span>
<span class="n">upper</span> <span class="o">=</span> <span class="n">q3</span> <span class="o">+</span> <span class="p">(</span><span class="n">iqr</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="n">lower</span> <span class="o">=</span> <span class="n">q1</span> <span class="o">-</span> <span class="p">(</span><span class="n">iqr</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;q1=</span><span class="si">{}</span><span class="s2">, q3=</span><span class="si">{}</span><span class="s2">, lower=</span><span class="si">{}</span><span class="s2">, uppwer=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q3</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">))</span>
<span class="n">df_x</span><span class="p">[</span><span class="n">col_outlier</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df_x</span> <span class="o">&lt;=</span> <span class="n">upper</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df_x</span> <span class="o">&gt;=</span> <span class="n">lower</span><span class="p">),</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="s1">&#39;outlier&#39;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">col_outlier</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">col_x</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>q1=0.08204499999999999, q3=3.6770825, lower=-5.31051125, uppwer=9.06963875
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f3f138c2cf8&gt;
</pre></div>
</div>
<img alt="../_images/outlier_9_2.png" src="../_images/outlier_9_2.png" />
</div>
</div>
<p>보통 시각화 라이브러리들에서는 Tukey Outlier 방법을 boxplot 으로 제공하고 있어 한눈에 이상치가 포함된 데이터 인지 아닌지를 판단할수 있도록 시각화해줍니다.</p>
<p><img alt="boxplot" src="https://cdn-images-1.medium.com/max/800/1*2c21SkzJMf3frPXPAR_gZA.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_x</span><span class="o">=</span> <span class="s2">&quot;CRIM&quot;</span>
<span class="n">df_x</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_xs</span><span class="p">[</span><span class="n">col_x</span><span class="p">])</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f3f13967ef0&gt;
</pre></div>
</div>
<img alt="../_images/outlier_11_1.png" src="../_images/outlier_11_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_xs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12]),
 &lt;a list of 13 Text xticklabel objects&gt;)
</pre></div>
</div>
<img alt="../_images/outlier_12_1.png" src="../_images/outlier_12_1.png" />
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./datascience"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="model.html" title="previous page">Model</a>
    <a class='right-next' id="next-link" href="scipy_normality_test.html" title="next page">Normality Test (Scipy)</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By comafire<br/>
        
            &copy; Copyright 2015.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-81648003-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>